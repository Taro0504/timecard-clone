---
description: アプリの要件定義をまとめたファイルです
globs: 
alwaysApply: false
---
1. 概要
本アプリは、社員の勤怠管理、各種申請、給与明細の閲覧等を行うための社員管理システムです。ユーザーは「正社員」と「管理者」のロールを持ち、それぞれアクセス可能な機能が制御されます。

1.1 ダッシュボード画面
- ユーザーがログインした際に最初に開かれる画面
- 画面中央に出勤、退勤を記録するボタンを配置
- 画面左に以下の各機能ページへと遷移できるメニューを配置する


2. ユーザー管理機能
2.1 会員登録機能
- 社員がアカウントを作成できる。

登録時の必須項目は以下の項目
- 氏名
- メールアドレスパスワード
- ロール（管理者／正社員）

2.2 ログイン機能
- メールアドレスとパスワードでログイン可能。
- ログイン後、ロールに応じたダッシュボードを表示。

3. 勤怠管理機能
3.1 勤務打刻
- 「出勤」ボタンで勤務時間の計測を開始。
- 「退勤」ボタンで勤務時間の計測を終了し、記録として保存。
  - 計測は当日の勤務時間として保持される。
  - 間違えて退勤ボタンを押してしまう場合を考慮して退勤キャンセル機能をつける
- 休憩時間の設定（15分刻みで休憩時間を設定可能）

3.2 勤怠履歴の確認（管理者）
- 管理者は全社員の勤怠履歴を確認可能。
  - フィルタ（社員名、日付範囲）での絞り込み機能あり
- 正社員は自身の勤怠管理のみを確認可能。

4. 経費・手当申請機能
4.1 経費申請機能
- 社員が経費の申請を行える。
入力項目
- 金額
- 用途（プルダウンから選択する形式）
- 経費の名称（自由入力形式）
- 証拠（ファイルアップロード）

4.2 その他手当申請機能
- 特定の条件に基づく手当（例：出張手当等）の申請機能。

入力項目
- 手当種別
- 金額
- 理由
- 手当ての名称

4.3 管理者による申請承認機能
- 管理者は、申請内容の確認、承認／却下の操作が可能。

5. 給与明細確認機能
- 社員は自身の給与明細を確認可能。
- 管理者は全社員分の明細を管理画面でアップロード／確認できる。
  - フィルタ（社員名、日付範囲）での絞り込み機能あり

6. 有給申請・確認機能
- 正社員が有給休暇を申請可能。
  - 申請内容：希望日、理由、申請日
- 管理者が申請を承認または却下可能。
- 承認された有給は勤怠記録に反映される。

7. ロール管理
7.1 管理者
- 全機能にアクセス可能。
- 申請承認／却下、勤怠確認、給与管理が可能。

7.2 正社員
- 自分自身の勤怠、給与明細、有給、経費等の申請および確認のみ可能。
- 他者の情報や承認系機能にはアクセス不可。

8. マイページ機能（正社員用）
8.1 マイページの目的
- 正社員が自身のプロフィール・勤怠履歴・申請履歴・給与明細等を一元的に確認できる個人ページ。
- 管理者も各社員のマイページを閲覧可能（編集不可）。

8.2 マイページに表示する情報
- 氏名
- 社員番号
- 所属部署（あれば）
- ロール（正社員／管理者）
- 社用メールアドレス（閲覧のみ）
- 生年月日
- 性別
- 緊急連絡先（最大2件）
- 入社日
- 現住所
- 給与振込口座情報（銀行名、支店名、口座番号、口座種別など）
- 社会保険情報（健康保険番号、基礎年金番号）
- 勤怠履歴（月毎に表示）
- 経費／手当申請の履歴（月毎に表示）
- 有給取得履歴
- 給与明細の最新情報へのリンク

8.3 アクセス制限
- 正社員：自身のマイページのみ閲覧・編集可能（編集はプロフィール項目の一部に限る）。
- 管理者：全社員のマイページを閲覧可能。ただし編集は不可。

9. プロフィール編集機能（正社員用）
9.1 編集可能項目
- 生年月日
- 緊急連絡先（最大2件）
- 性別
- 入社日
- 現住所
- 給与振込口座の情報
- 社会保険情報（健康保険番号、基礎年金番号）

9.2 編集不可項目
- 氏名（会社に申請して変更）
- 社員番号（固定）
- ロール（管理者のみ変更可）
- 社用メールアドレス（会社が配布するため編集不可）

9.3 バリデーション要件（例）
- 生年月日：過去日付のみ有効、未来日は不可
- 緊急連絡先：電話番号形式での入力、1件以上2件まで登録可能
- 性別：選択式（例：男性、女性、その他、回答しない）
- 口座情報：銀行コード・口座番号形式チェック
- 社会保険情報：数字のみ、有効桁数のバリデーション






